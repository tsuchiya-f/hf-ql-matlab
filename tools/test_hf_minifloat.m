%--------------------------
% test of HF_minifloat
%--------------------------
% 
%  0   -1.0000000e+10  -> 0x0fe0  ->   -4.2949673e+09
%  1   -1.0000000e+09  -> 0x0f9c  ->   -1.0066330e+09
%  2   -1.0000000e+08  -> 0x0f30  ->   -1.0066330e+08
%  3   -1.0000000e+07  -> 0x0ec6  ->   -9.9614720e+06
%  4   -1.0000000e+03  -> 0x0d1f  ->   -1.0080000e+03
%  5   -1.0000000e+00  -> 0x0be0  ->   -1.0000000e+00
%  6   -1.0000000e-03  -> 0x0aa1  ->   -1.0070801e-03
%  7   -9.9999997e-06  -> 0x09ca  ->   -1.0013580e-05
%  8    0.0000000e+00  -> 0x0000  ->    4.6566129e-10
%  9    9.9999997e-06  -> 0x01ca  ->    1.0013580e-05
% 10    1.0000000e-03  -> 0x02a1  ->    1.0070801e-03
% 11    1.0000000e+00  -> 0x03e0  ->    1.0000000e+00
% 12    1.0000000e+03  -> 0x051f  ->    1.0080000e+03
% 13    1.0000000e+05  -> 0x05f1  ->    1.0035200e+05
% 14    2.0000000e+00  -> 0x0400  ->    2.0000000e+00
% 15    3.0000000e+00  -> 0x0410  ->    3.0000000e+00
% 16    4.0000000e+00  -> 0x0420  ->    4.0000000e+00
% 17    5.0000000e+00  -> 0x0428  ->    5.0000000e+00
% 18    6.0000000e+00  -> 0x0430  ->    6.0000000e+00
% 19    7.0000000e+00  -> 0x0438  ->    7.0000000e+00
% 20    8.0000000e+00  -> 0x0440  ->    8.0000000e+00
% 21    9.0000000e+00  -> 0x0444  ->    9.0000000e+00
% 22    1.0000000e+01  -> 0x0448  ->    1.0000000e+01
% 23    0.0000000e+00  -> 0x0000  ->    4.6566129e-10

% --- mini-float ---
%  0  0xfe0f9cf3
%  1  0x0ec6d1fb
%  2  0xe0aa19ca
%  3  0x0001ca2a
%  4  0x13e051f5
%  5  0xf1400410
%  6  0x42042843
%  7  0x04384404
%  8  0x44448000

%data12 = [ 0x0fe0 0x0f9c 0x0f30 0x0ec6 0x0d1f 0x0be0 0x0aa1 0x09ca ...
%           0x0000 0x01ca 0x02a1 0x03e0 0x051f 0x05f1 0x0400 0x0410 ...
%           0x0420 0x0428 0x0430 0x0438 0x0440 0x0444 0x0448 0x0000 ];

result = [ -4.2949673e+09 -1.0066330e+09 -1.0066330e+08 -9.9614720e+06 ...
           -1.0080000e+03 -1.0000000e+00 -1.0070801e-03 -1.0013580e-05 ...
            4.6566129e-10  1.0013580e-05  1.0070801e-03  1.0000000e+00 ...
            1.0080000e+03  1.0035200e+05  2.0000000e+00  3.0000000e+00 ...
            4.0000000e+00  5.0000000e+00  6.0000000e+00  7.0000000e+00 ...
            8.0000000e+00  9.0000000e+00  1.0000000e+01  4.6566129e-10 ];

 data12 = [ 0xfe0f9cf3 0x0ec6d1fb 0xe0aa19ca 0x0001ca2a ...
            0x13e051f5 0xf1400410 0x42042843 0x04384404 ...
            0x44448000 ];

data = hf_minifloat(data12);

for i=1:24
    fprintf('%d  %e %e\n', i, data(i), result(i));
%    fprintf('%2d  0x%s 0x%s\n', i, num2hex(single(data(i))), num2hex(single(result(i))));
end
